/*! rmsWebconfig 2014-03-14 author:hellangel*/
function JSVideoCtrl(a,b,c,d,e){var f={_macro:{_ptzCmd:{TCSP_PTZ_PANRIGHT:0,TCSP_PTZ_RIGHTUP:1,TCSP_PTZ_TILTUP:2,TCSP_PTZ_LEFTUP:3,TCSP_PTZ_PANLEFT:4,TCSP_PTZ_LEFTDOWN:5,TCSP_PTZ_TILTDOWN:6,TCSP_PTZ_RIGHTDOWN:7,TCSP_PTZ_SCAN:8,TCSP_PTZ_HALT:9,TCSP_PTZ_IRIS:10,TCSP_PTZ_ZOOM:11,TCSP_PTZ_FOCUS:12,TCSP_PTZ_VIEW:13,TCSP_PTZ_SETVIEW:14,TCSP_PTZ_AUX:15,TCSP_PTZ_WASH:16,TCSP_PTZ_WIPE:17,TCSP_PTZ_LIGHT:18,TCSP_PTZ_POWER:19,TCSP_PTZ_FLASHBACK:20,TCSP_PTZ_DEVKEY:21,TCSP_PTZ_LOCKCAM:22,TCSP_PTZ_UNLOCKCAM:23,TCSP_PTZ_EXCLUSIVE:24,TCSP_PTZ_INCLUSIVE:25,TCSP_PTZ_GET_OPINFO:26,TCSP_PTZ_CHANGE_MY_LEVEL:27,CPM_PTZ_CLEARVIEW:28,CPM_PTZ_FAN:29},_eventCmd:{RMSCLIENTSDK_SDK_EVENT_DEV_BROKEN:1225,RMSCLIENTSDK_SDK_EVENT_DEV_CONNECT:1226,RMSCLIENTSDK_SDK_EVENT_STREAM_BROKEN:1227,RMSCLIENTSDK_SDK_EVENT_STREAM_CONNECT:1228,RMSCLIENTSDK_SDK_EVENT_SERVE_RUNNING:1229,RMSCLIENTSDK_SDK_EVENT_SERVE_HALT:1230,RMSCLIENTSDK_SDK_EVENT_NODE_CHANGE:1231,RMSCLIENTSDK_SDK_EVENT_STREAM_CONNECT_ERROR:1232,RMSCLIENTSDK_WINDOW_EVENT_SELECTWINDOW_CHANGE:1125,RMSCLIENTSDK_WINDOW_EVENT_INIT_FINISHED:1126,RMSCLIENTSDK_COMMAND_EVENT_ADDDEV:1325,RMSCLIENTSDK_COMMAND_EVENT_DELDEV:1326,RMSCLIENTSDK_COMMAND_EVENT_DELALLDEV:1327,RMSCLIENTSDK_COMMAND_EVENT_REFRESHDEV:1328,RMSCLIENTSDK_COMMAND_EVENT_REFRESHALLDEV:1329,RMSCLIENTSDK_COMMAND_EVENT_ENUMNODE:1330,RRMSCLIENTSDK_COMMAND_EVENT_OPENSTREAM:1331,RMSCLIENTSDK_COMMAND_EVENT_CLOSESTREAM:1332,RMSCLIENTSDK_COMMAND_EVENT_CLOSEALLSTREAM:1333,RMSCLIENTSDK_COMMAND_EVENT_PTZ:1334,RMSCLIENTSDK_COMMAND_EVENT_VIDEOCOLORGET:1335,RMSCLIENTSDK_COMMAND_EVENT_VIDEOCOLORSET:1336,RMSCLIENTSDK_COMMAND_EVENT_FILESEARCH:1337,RMSCLIENTSDK_COMMAND_EVENT_FILEPLAYBYTIME:1338,RMSCLIENTSDK_COMMAND_EVENT_FILEPLAYBYNAME:1339,RMSCLIENTSDK_COMMAND_EVENT_FILEDOWNLOADBYTIME:1340,RMSCLIENTSDK_COMMAND_EVENT_FILEDOWNLOADBYNAME:1341,RMSCLIENTSDK_COMMAND_EVENT_FILEIDCTRL:1342,RMSCLIENTSDK_COMMAND_EVENT_FILEIDSTOP:1343,RMSCLIENTSDK_COMMAND_EVENT_ADDCHAN:1344,RMSCLIENTSDK_COMMAND_EVENT_URLOPENSTREAM:1347,RMSCLIENTSDK_COMMAND_EVENT_URLCLOSESTREAM:1348},_fileCtlCmd:{CPMSDK_VOD_PLAY:0,CPMSDK_VOD_STOP:1,CPMSDK_VOD_PAURSE:2,CPMSDK_VOD_CONTINUE:3,CPMSDK_VOD_SETPOS:4,CPMSDK_VOD_GETPOS:5,CPMSDK_VOD_SETPROCESSRARE:6,CPMSDK_VOD_GETPROCESSRARE:7,CPMSDK_VOD_GETDURATION:8,CPMSDK_VOD_SETSPEED:9},_errCmd:{"-1":"未知错误","-9001":"库加载失败","-9002":"构造组件失败","-9003":"参数错误","-9004":"JSON错误","-9005":"所选窗口不可用","-9006":"没有实现该功能","-9007":"HOSTID不可用","-9008":"HOSTNAME不可用","-9009":"CHANNAME不可用","-9010":"通道已经打开","-9011":"线程创建失败",0:"成功","-1001":"未知错误","-1002":"缺少组件或驱动","-1003":"非法的cp组件","-1004":"非法参数","-1005":"内存不足","-1006":"该对象已存在","-1007":"该对象不存在","-1008":"该功能未实现","-1009":"内部错误","-1010":"连接管道服务失败(win)","-1011":"读管道数据失败","-1012":"写管道数据失败","-1013":"不支持的命令请求","-1014":"错误的用户名密码","-1015":"连接设备失败","-1016":"未连接设备","-1017":"网络错误","-1018":"接口未实现","-1019":"SDK返回未知错误","-1020":"源流打开失败","-1021":"目标流打开失败"}},_log:{_console:function(a){return f._oVariableObj._bDebugMode?void("undefined"==typeof console?alert(a):console.log(a)):!1},_info:function(a){return f._oVariableObj._bDebugMode?void("undefined"==typeof console?alert(a):console.info(a)):!1},_err:function(a){"undefined"==typeof console?alert(a):console.error(a)},_print:function(a){if(!f._oVariableObj._bDebugMode)return!1;try{var b=document.createElement("div"),c="position:absolute; border:1px; height:300px; width:400px;";b.style.cssText=c,document.body.appendChild(b),b.innerText=a}catch(d){"undefined"==typeof console?alert("print err: "+d):console.log("print err: "+d)}}},_toolkit:{_isIE:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("msie")?!0:!1},_loadFile:function(a,b){if("js"==b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a)}else if("css"==b){var c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",a)}return"undefined"!=typeof c?(document.getElementsByTagName("head")[0].appendChild(c),!0):!1},_rDrag:{o:null,init:function(a){a.onmousedown=this.start},start:function(a){var b;a=f._toolkit._rDrag.fixEvent(a),a.preventDefault&&a.preventDefault(),f._toolkit._rDrag.o=b=this,b.x=a.clientX-f._toolkit._rDrag.o.offsetLeft,b.y=a.clientY-f._toolkit._rDrag.o.offsetTop,document.onmousemove=f._toolkit._rDrag.move,document.onmouseup=f._toolkit._rDrag.end},move:function(a){a=f._toolkit._rDrag.fixEvent(a);var b,c;b=a.clientX-f._toolkit._rDrag.o.x,c=a.clientY-f._toolkit._rDrag.o.y,0>b&&(b=0),0>c&&(c=0),f._toolkit._rDrag.o.style.left=b+"px",f._toolkit._rDrag.o.style.top=c+"px"},end:function(a){a=f._toolkit._rDrag.fixEvent(a),f._toolkit._rDrag.o=document.onmousemove=document.onmouseup=null},fixEvent:function(a){return a||(a=window.event,a.target=a.srcElement,a.layerX=a.offsetX,a.layerY=a.offsetY),a}},_json2str:function(a){var b=this;switch(typeof a){case"string":return'"'+a.replace(/(["\\])/g,"\\$1")+'"';case"array":return"["+a.map(b._json2str).join(",")+"]";case"object":if(a instanceof Array){for(var c=[],d=a.length,e=0;d>e;e++)c.push(b._json2str(a[e]));return"["+c.join(",")+"]"}if(null==a)return"null";var f=[];for(var g in a)f.push(b._json2str(g)+":"+b._json2str(a[g]));return"{"+f.join(",")+"}";case"number":return a;case!1:return a}}},_VideoPlayerCtrl:{_bPlayerInitState:!1,_oVideoPlayer:"",_checkUpgrade:function(){return!1},_checkPlugin:function(){return 0},_PlayerDisplayMode:function(a){try{{var b=a,c=f._oVariableObj._oPlayerInitParam;f._VideoPlayerCtrl._oVideoPlayer}"object"!=typeof b&&(b=c)}catch(d){f._log._console("_PlayerDisplayMode err:"+d.toString())}},_PlayerEvent:{_event:{_switchReg:function(a,b){if(!a||"number"!=typeof a)return f._log._info("_switchReg err : eventtype is underfind"),!1;try{f._VideoPlayerCtrl._PlayerEvent._bind._oAllEvents["_"+a](b)}catch(c){f._log._info("function"!=typeof f._VideoPlayerCtrl._PlayerEvent._bind._oAllEvents["_"+a]?"_switchReg info: Didn't register this event, eventtype= "+a+" !":"_switchReg err: "+c)}}},_bind:{_oAllEvents:{},_regInitFinished:function(){f.externalInterface.videoCtrl.eventCtrl.regInitFinished(function(){f._VideoPlayerCtrl._oVideoPlayer.TellGetInitEvent(),f._oVariableObj._bOCXInitSuccess=!0})}}},_PlayerMethod:{_Obj:function(){return f._VideoPlayerCtrl._oVideoPlayer},_play:function(a){var b=!1;try{{this._Obj()}this._Obj()&&url&&(b=0===this._Obj().Play(a)?!0:!1)}catch(c){f._log._console("_play err"+c.toString())}return b},_replay:function(){var a=!1;try{this._Obj()}catch(b){f._log._console("_replay err"+b.toString())}return a},_stop:function(a){var b=!1;try{this._Obj()&&(b=0===this._Obj().Stop(a)?!0:!1)}catch(c){f._log._console("_stop err"+c.toString())}return b},_stopAll:function(a){var b=!1;try{this._Obj()&&(b=0===this._Obj().CloseAllChannel(a)?!0:!1)}catch(c){f._log._console("_stopAll err"+c.toString())}return b},_playUrl:function(a){var b=!1;try{var c=this._Obj();c&&a&&(b=0===c.Play(a)?!0:!1)}catch(d){f._log._console("_playUrl err"+d.toString())}return b},_stopUrl:function(a){var b=!1;try{var c=this._Obj();c&&a&&(b=0===c.Stop(a)?!0:!1)}catch(d){f._log._console("_stopUrl err"+d.toString())}return b},_setAudio:function(a){var b=!1;try{this._Obj()&&(b=0===this._Obj().SetAudio(a?"1":"0")?!0:!1,b&&(f._oVariableObj._isMute=!a))}catch(c){f._log._console("_setAudio err"+c.toString())}return b},_setSize:function(a,b){var c=!1;try{var d=this._Obj();if(d){d.ResizeOCX(a+"",b+"");var e=d.style;e.width=a+"px",e.height=b+"px",c=!0}}catch(g){f._log._console("_setSize err"+g.toString())}return c},_setVisibility:function(a){var b=!1;try{if(this._Obj()){var c=this._Obj().style;c.visibility=a?"visible":"hidden",b=!0}}catch(d){f._log._console("_setVisibility err"+d.toString())}return b},_setTalkback:function(a){var b=!1;try{this._Obj()&&(b=a?0===this._Obj().StartTalk()?!0:!1:0===this._Obj().StopTalk()?!0:!1,b&&(f._oVariableObj._isTalkback=a))}catch(c){f._log._console("_setTalkback err"+c.toString())}return b},_setAlarm:function(a){var b=0;try{this._Obj()&&(b=a?0===this._Obj().StartEvent()?!0:!1:0===this._Obj().StopEvent()?!0:!1)}catch(c){f._log._console("_setAlarm err"+c.toString()),b=-1}return b},_snapshot:function(){var a=0;try{this._Obj()&&(a=0===this._Obj().PrintWindow()?!0:!1)}catch(b){f._log._info("_snapshot err"+b.toString()),a=-1}return a},_setFilePath:function(){var a=!1;try{this._Obj()&&(this._Obj().SetPicSavePath(),a=!0)}catch(b){f._log._console("_setFilePath err"+b.toString())}return a},_getFilePath:function(){var a=!1;try{this._Obj()&&(this._Obj().GetPicSavePath(),a=!0)}catch(b){f._log._console("_getFilePath err"+b.toString())}return a},_openFilePath:function(){var a=!1;try{this._Obj()&&(this._Obj().ViewSavePic(),a=!0)}catch(b){f._log._console("_openFilePath err"+b.toString())}return a},_setRecordFileSize:function(a){var b=!1;try{this._Obj()&&(this._Obj().SetRecordFileSize(a+""),b=!0)}catch(c){f._log._console("_setRecordFileSize err"+c.toString())}return b},_setRecord:function(a){var b=!1;try{this._Obj()&&(b=a?0===this._Obj().StartRecordVideo()?!0:!1:0===this._Obj().StopRecordVideo()?!0:!1,b&&(f._oVariableObj._isRecord=a))}catch(c){f._log._console("_setRecord err"+c.toString())}return b},_setRecordPath:function(){var a=!1;try{this._Obj()&&(this._Obj().SetRecSavePath(),a=!0)}catch(b){f._log._console("_setRecordPath err"+b.toString())}return a},_getRecordPath:function(){var a="";try{this._Obj()&&(a=this._Obj().GetRecSavePath())}catch(b){f._log._console("_getRecordPath err"+b.toString())}return a},_openRecordPath:function(){var a=!1;try{this._Obj()&&(this._Obj().OpenRecSavePath(),a=!0)}catch(b){f._log._console("_openRecordPath err"+b.toString())}return a},_getMotionPicture:function(){var a="";try{this._Obj()&&(a=this._Obj().PrintOnePicForMotionSetting())}catch(b){f._log._console("_getMotionPicture err"+b.toString())}return a},_deleteMotionPicture:function(){var a=!1;try{this._Obj()&&(a=this._Obj().DeleteThePicForMotionSetting())}catch(b){f._log._console("_deleteMotionPicture err"+b.toString())}return a},_fullScreen:function(){try{if(this._Obj())return this._Obj().SetMutiFullScreen(),!0}catch(a){return f._log._console("_fullScreen err"+a.toString()),!1}},_setScreenNum:function(a){try{if(this._Obj())return this._Obj().SetWindowNum(a+""),!0}catch(b){return f._log._console("_setScreenNum err"+b.toString()),!1}},_getOCXVersion:function(){try{return this._Obj()?this._Obj().GetVersion():""}catch(a){return f._log._console("_getOCXVersion err"+a.toString()),""}},_ptzCtrl:function(a,b){var c=!1;try{this._Obj()&&0==this._Obj().PTZ(a,b)&&(c=!0)}catch(d){f._log._console("_ptzCtrl err"+d.toString())}return c},_handleComponent:function(a){var b=0;try{this._Obj()&&(b=this._Obj().HandleComponent(f._toolkit._json2str(a)))}catch(c){f._log._console("_handleComponent err"+c.toString())}return b}}},_oVariableObj:{_sUserRight:"",_iCanvasX:820,_iCanvasY:460,_iPositionX:0,_iPositionY:0,_sPlayUr:"",_bDebugMode:!1,_iPanelHeight:40,_isMute:!1,_isTalkback:!1,_bOCXInitSuccess:!1,_isRecord:!1,_sClassid:"FC3149DC-24F6-46BF-8B0B-FE9C59DDB93F",_sBasicDivId:"JSVideoPluginDiv",_sIEVideoControlId:"NP_WEB_PLAYER_OBJ",_sOtherVideoControlId:"NP_WEB_PLAYER_EMB",_sTopCtrlId:"_videoCtrl_northDiv",_sLeftCtrlId:"_videoCtrl_westDiv",_sBottomCtrlId:"_videoCtrl_southDiv",_sControlCtrlId:"_videoCtrl_eastDiv",_sTitleCtrlId:"_videoCtrl_titleDiv",_sTitleShowId:"_videoCtrl_titleShowDiv",_oLanguagePackage:{l_oScreen:{l_fullScreen:"Fullscreen",l_oneWindow:"One Window",l_fourWindow:"Four Window",l_nineWindow:"Nine Window",l_sixteenWindow:"Sixteen Window"},l_oPlayCtrl:{l_replay:"Replay",l_stop:"Stop",l_audioOpen:"Audio Open",l_audioclose:"Audio Close",l_talkbackOpen:"Talkback Open",l_talkbackClose:"Talkback Close",l_snapshot:"Snapshot",l_record:"Record",l_stopAll:"Stop All"}},_oLangPkg:null,_sCssFilePath:"css/plugin.css",_functionInfo:{bWindowMode:!1,bShowScreenCtrl:!0,bShowPlayCtrl:!0,bShowParaCtrl:!1,iWhichShowOnTop:0,oControl:{bRecord:!0,bTalkback:!0,bCapture:!0,bAudio:!0,bStopAll:!0,bStop:!0,bReplay:!0},oWindow:{bOne:!0,bFour:!0,bNine:!0,bFull:!0}},_oFuncInfo:{bWindowMode:!1,bShowScreenCtrl:!0,bShowPlayCtrl:!0,bShowParaCtrl:!1,iWhichShowOnTop:0,oControl:{bRecord:!0,bTalkback:!0,bCapture:!0,bAudio:!0,bStopAll:!0,bStop:!0,bReplay:!0},oWindow:{bOne:!0,bFour:!0,bNine:!0,bFull:!0}},_oComponetType:["NPStreamClientComponent","NPRMSClientComponent","NPTcspSDKComponent","RMSClientComponent"],_oPlayerInitParam:{baseclr:null,playclr:null,selclr:null,maintitle:null,maintitleclr:null,subtitle:null,subtitleclr:null,msgclr:null},_bCallBackRegFlag:!1},_ui:{_setTitleContext:function(a){return $("#"+f._oVariableObj._sTitleShowId).html(a),!0}},_init:{_initVideoPlugin:function(b){var c=a,d="";return"object"!=typeof a?(d=f._oVariableObj._sBasicDivId+(new Date).getTime(),c=$("<div id="+d+"></div>"),$("body").append(c),f._oVariableObj._sBasicDivId=d):f._oVariableObj._sBasicDivId=c.attr("id"),this._initUI(b),f._VideoPlayerCtrl._oVideoPlayer=document.getElementById(f._oVariableObj._sIEVideoControlId),f._VideoPlayerCtrl._PlayerEvent._bind._regInitFinished(),this._resize(),this._eventBind(),d},_initFun:function(a){try{void 0==a.bShowScreenCtrl||void 0==a.bShowPlayCtrl||void 0==a.bShowParaCtrl||void 0==a.iWhichShowOnTop||void 0==a.bWindowMode?(f._oVariableObj._oFuncInfo=f._oVariableObj._functionInfo,f._log._console("oFuncInfo error undefined")):f._oVariableObj._oFuncInfo=a}catch(b){f._oVariableObj._oFuncInfo=f._oVariableObj._functionInfo,f._log._console("oFuncInfo error:"+b)}},_initLanguage:function(a){f._oVariableObj._oLangPkg="undefined"==typeof a||""==a?f._oVariableObj._oLanguagePackage:a},_initUI:function(a){var b=$("#"+f._oVariableObj._sBasicDivId),c=f._oVariableObj._oFuncInfo;if(c.bWindowMode)b.append(this._createTitle(!0)),b.append(this._createPlugin(a)),b.css({position:"absolute"}),f._toolkit._rDrag.init(document.getElementById(f._oVariableObj._sBasicDivId));else{var d=this._createLeftCtrl(!0);if(""==d)return!1;b.append(d),d="",0==c.iWhichShowOnTop?($("#"+f._oVariableObj._sLeftCtrlId).append(this._createTopCtrl(c.bShowScreenCtrl)),$("#"+f._oVariableObj._sLeftCtrlId).append(this._createPlugin(a)),$("#"+f._oVariableObj._sLeftCtrlId).append(this._createBottomCtrl(c.bShowPlayCtrl))):($("#"+f._oVariableObj._sLeftCtrlId).append(this._createBottomCtrl(c.bShowPlayCtrl)),$("#"+f._oVariableObj._sLeftCtrlId).append(this._createPlugin(a)),$("#"+f._oVariableObj._sLeftCtrlId).append(this._createTopCtrl(c.bShowScreenCtrl))),b.append(this._createControlCtrl(c.bShowParaCtrl))}return!0},_done:function(){},_createPlugin:function(a){var b=new Date,c=f._oVariableObj._sIEVideoControlId+b.getTime(),d="";return d=f._toolkit._isIE()?'<object classid="clsid:'+a+'" hspace="0" vspace="0" class="p-videoPlugin" standby="loading..." name="'+c+'" id="'+c+'"></object>':'<embed class="p-videoPlugin" pluginspage="/" name="'+c+'" id="'+c+'" type="application/NPPlayer"></embed>',f._oVariableObj._sIEVideoControlId=c,delete b,d},_createLeftCtrl:function(a){var b=new Date,c=f._oVariableObj._sLeftCtrlId+b.getTime(),d=new Array(""),e="";return a?(d.push('<div id="'+c+'" class="p-videoCtrl-westDiv">'),d.push("</div>"),e=d.join(""),f._oVariableObj._sLeftCtrlId=c,delete b,delete d,e):e},_createTopCtrl:function(a){var b=new Date,c=f._oVariableObj._oLangPkg,d=f._oVariableObj._oFuncInfo.oWindow,e=f._oVariableObj._sTopCtrlId+b.getTime(),g=new Array(""),h="";return a?(g.push('<div id="'+e+'" class="p-videoCtrl-northDiv p-gradient-ctrl">'),g.push(d.bFull?'<div class="p-s-0 p-button" title="'+c.l_oScreen.l_fullScreen+'"></div>':""),g.push(d.bNine?'<div class="p-s-9 p-button" title="'+c.l_oScreen.l_nineWindow+'"><table><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></table></div>':""),g.push(d.bFour?'<div class="p-s-4 p-button" title="'+c.l_oScreen.l_fourWindow+'"></div>':""),g.push(d.bOne?'<div class="p-s-1 p-button" title="'+c.l_oScreen.l_oneWindow+'"><table><tr><td></td></tr></table></div>':""),f._oVariableObj._oFuncInfo.iWhichShowOnTop&&g.push('<div class="p-c-decorate"></div>'),g.push("</div>"),h=g.join(""),f._oVariableObj._sTopCtrlId=e,delete b,delete g,h):h},_createBottomCtrl:function(a){var b=f._oVariableObj._oLangPkg,c=f._oVariableObj._oFuncInfo.oControl,d=new Date,e=f._oVariableObj._sBottomCtrlId+d.getTime(),g=new Array(""),h="";return a?(g.push('<div id="'+e+'" class="p-videoCtrl-southDiv p-gradient-ctrl">'),g.push(c.bRecord?'<div class="p-c-video p-button" title="'+b.l_oPlayCtrl.l_record+'"></div>':""),g.push(c.bTalkback?'<div class="p-c-talkback p-button" title="'+b.l_oPlayCtrl.l_talkbackOpen+'"></div>':""),g.push(c.bCapture?'<div class="p-c-capture p-button" title="'+b.l_oPlayCtrl.l_snapshot+'"></div>':""),g.push(c.bAudio?'<div class="p-c-audio p-button" title="'+b.l_oPlayCtrl.l_audioOpen+'"></div>':""),g.push(c.bStopAll?'<div class="p-c-stopAll p-button" title="'+b.l_oPlayCtrl.l_stopAll+'"></div>':""),g.push(c.bStop?'<div class="p-c-stop p-button" title="'+b.l_oPlayCtrl.l_stop+'"></div>':""),g.push(c.bReplay?'<div class="p-c-play p-button" title="'+b.l_oPlayCtrl.l_replay+'"></div>':""),f._oVariableObj._oFuncInfo.iWhichShowOnTop||g.push('<div class="p-c-decorate"></div>'),g.push("</div>"),h=g.join(""),f._oVariableObj._sBottomCtrlId=e,delete d,delete g,h):h},_createControlCtrl:function(a){var b=new Date,c=f._oVariableObj._sControlCtrlId+b.getTime(),d=new Array(""),e="";return a?(d.push('<div id="'+c+'" class="p-videoCtrl-eastDiv">'),d.push("	<h3>First</h3>"),d.push("	<div>Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet.</div>"),d.push("	<h3>Second</h3>"),d.push("	<div>Phasellus mattis tincidunt nibh.</div>"),d.push("	<h3>3</h3>"),d.push("	<div>Phasellus mattis tincidunt nibh.</div>"),d.push("</div>"),e=d.join(""),f._oVariableObj._sControlCtrlId=c,delete b,delete d,e):e},_createTitle:function(a){var b=new Date,c=f._oVariableObj._sTitleCtrlId+b.getTime(),d=f._oVariableObj._sTitleShowId+b.getTime(),e=new Array(""),g="";return a?(e.push('<div id="'+c+'" class="p-videoCtrl-titleDiv p-gradient-ctrl">'),e.push('<iframe style= "position:absolute; left:0px; top:0px; width:100%; height:100%; z-index:-1; scrolling:no;" frameborder="0"></iframe>'),e.push('<div id="'+d+'" class="p-videoCtrl-titleDiv-show"></div>'),e.push('<div id="_videoCtrl_titleDiv_close" class="p-videoCtrl-titleDiv-close"><span>×</span></div>'),e.push("</div>"),g=e.join(""),f._oVariableObj._sTitleCtrlId=c,f._oVariableObj._sTitleShowId=d,delete b,delete e,g):g},_eventBind:function(){f._oVariableObj._oFuncInfo.bWindowMode?$(".p-videoCtrl-titleDiv-close").bind("click",function(){f.externalInterface.videoCtrl.realtimeCtrl.stopAll(),$("#"+f._oVariableObj._sBasicDivId).css({visibility:"hidden"})}):($(".p-s-0").bind("click",function(){f._VideoPlayerCtrl._PlayerMethod._fullScreen()}),$(".p-s-1").bind("click",function(){f._VideoPlayerCtrl._PlayerMethod._setScreenNum(1)}),$(".p-s-4").bind("click",function(){f._VideoPlayerCtrl._PlayerMethod._setScreenNum(4)}),$(".p-s-9").bind("click",function(){f._VideoPlayerCtrl._PlayerMethod._setScreenNum(9)}),$(".p-c-play").bind("click",function(){f._VideoPlayerCtrl._PlayerMethod._replay()}),$(".p-c-stop").bind("click",function(){f.externalInterface.videoCtrl.realtimeCtrl.stop()}),$(".p-c-stopAll").bind("click",function(){f.externalInterface.videoCtrl.realtimeCtrl.stopAll()}),$(".p-c-audio").toggle(function(){f._VideoPlayerCtrl._PlayerMethod._setAudio(!0)},function(){f._VideoPlayerCtrl._PlayerMethod._setAudio(!1)}),$(".p-c-talkback").toggle(function(){f._VideoPlayerCtrl._PlayerMethod._setTalkback(!0)},function(){f._VideoPlayerCtrl._PlayerMethod._setTalkback(!1)}),$(".p-c-capture").bind("click",function(){f._VideoPlayerCtrl._PlayerMethod._snapshot()}),$(".p-c-video").bind("click",function(){f._oVariableObj._isRecord?(f._VideoPlayerCtrl._PlayerMethod._setRecord(!1),$(this).addClass("p-button-hover")):(f._VideoPlayerCtrl._PlayerMethod._setRecord(!0),$(this).removeClass("p-button-hover"))}))},_resize:function(a,b){var c,d;"undefined"!=typeof a&&"undefined"!=typeof b&&(c=a>=330?a:1,d=b>=120?b:1,f._oVariableObj._iCanvasX=c,f._oVariableObj._iCanvasY=d),("undefined"==typeof a||"undefined"==typeof b)&&(c=$("#"+f._oVariableObj._sBasicDivId).width(),d=$("#"+f._oVariableObj._sBasicDivId).height(),f._oVariableObj._iCanvasX=c,f._oVariableObj._iCanvasY=d),f._init._moveDiv()},_moveDiv:function(){var a=f._oVariableObj._oFuncInfo,b=f._oVariableObj,c=$("#"+b._sBasicDivId);c.css({width:b._iCanvasX+"px",height:b._iCanvasY+"px"}),a.bWindowMode?($("#"+b._sTitleCtrlId).width(b._iCanvasX).height(25),$("#"+b._sIEVideoControlId).width($("#"+b._sTitleCtrlId).width()+2).height(b._iCanvasY-$("#"+b._sTitleCtrlId).height()),c.css({left:($(window).width()-c.width())/2+"px",top:($(window).height()-c.height())/2+"px"})):(a.bShowParaCtrl?($("#"+b._sControlCtrlId).css({width:"168px",height:b._iCanvasY+"px"}),$("#"+b._sLeftCtrlId).css({width:b._iCanvasX-$("#"+b._sControlCtrlId).width()+"px",height:b._iCanvasY+"px"})):$("#"+b._sLeftCtrlId).css({width:b._iCanvasX+"px",height:b._iCanvasY+"px"}),a.bShowScreenCtrl?a.bShowPlayCtrl?($("#"+b._sTopCtrlId).height(b._iPanelHeight).width($("#"+b._sLeftCtrlId).width()),$("#"+b._sBottomCtrlId).height(b._iPanelHeight).width($("#"+b._sLeftCtrlId).width()),$("#"+b._sIEVideoControlId).width($("#"+b._sLeftCtrlId).width()).height(b._iCanvasY-$("#"+b._sTopCtrlId).height()-$("#"+b._sBottomCtrlId).height())):($("#"+b._sTopCtrlId).height(b._iPanelHeight).width($("#"+b._sLeftCtrlId).width()),$("#"+b._sIEVideoControlId).width($("#"+b._sLeftCtrlId).width()).height(b._iCanvasY-$("#"+b._sTopCtrlId).height())):a.bShowPlayCtrl?($("#"+b._sBottomCtrlId).height(b._iPanelHeight).width($("#"+b._sLeftCtrlId).width()),$("#"+b._sIEVideoControlId).width($("#"+b._sLeftCtrlId).width()).height(b._iCanvasY-$("#"+b._sBottomCtrlId).height())):$("#"+b._sIEVideoControlId).width($("#"+b._sLeftCtrlId).width()).height(b._iCanvasY))}},externalInterface:{setPosition:function(a,b){var c=a,d=b;f._oVariableObj._iPositionX=c,f._oVariableObj._iPositionY=d;try{var e=$("#"+f._oVariableObj._sBasicDivId);e.css({left:c+"px",top:d+"px"})}catch(g){f._log._console("err setPosition:"+g)}},resize:function(a,b){f._init._resize(a,b)},resizeCallback:function(){var a=$("#"+f._oVariableObj._sBasicDivId).width(),b=$("#"+f._oVariableObj._sBasicDivId).height();f._init._resize(a,b)},setDebugMode:function(a){f._oVariableObj._bDebugMode=a},setSurface:function(a){f._VideoPlayerCtrl._oVideoPlayer.SetSurface(f._toolkit._json2str(a))},tellGetInitEvent:function(){f._VideoPlayerCtrl._oVideoPlayer.TellGetInitEvent()},tellReleaseOCX:function(){f._VideoPlayerCtrl._oVideoPlayer.ReleaseOCX()},getScreenNum:function(){return f._oVariableObj._iCurrentScreenTotal||1},getPollObj:function(){return document.getElementById("p_s_poll")},draw:function(a,b){"undefined"!=typeof b&&(f._oVariableObj._sClassid=b),f._init._initFun(d),f._init._initLanguage(e);var g=c;if("string"!=typeof g&&(g=f._oVariableObj._sCssFilePath),!f._toolkit._loadFile(g,"css"))return f._log._console("load css fail, the file path:"+sFilePath),!1;var h=f._init._initVideoPlugin(f._oVariableObj._sClassid);if(f._VideoPlayerCtrl._oVideoPlayer)try{document.addEventListener?f._VideoPlayerCtrl._oVideoPlayer.OnComponentEvent=f._VideoPlayerCtrl._PlayerEvent._event._switchReg:f._VideoPlayerCtrl._oVideoPlayer.SetComponentEventCB(f._VideoPlayerCtrl._PlayerEvent._event._switchReg)}catch(i){f._log._info("_regEventCallback err:"+i)}else f._log._info("_regEventCallback: Control not init!");return f._VideoPlayerCtrl._PlayerDisplayMode(a),h},videoCtrl:{setSize:function(){},setFullScreen:function(){return f._VideoPlayerCtrl._PlayerMethod._fullScreen()},setScreenNum:function(a){return 1!=a&&4!=a&&9!=a&&16!=a&&(a=1),f._VideoPlayerCtrl._PlayerMethod._setScreenNum(a)},setVisibility:function(a){return $("#"+f._oVariableObj._sBasicDivId).css({visibility:a?"visible":"hidden"}),!0},setTalk:function(a){return f._VideoPlayerCtrl._PlayerMethod._setTalkback(a)},setAudio:function(a){return f._VideoPlayerCtrl._PlayerMethod._setAudio(a)},handleComponent:function(a){return"undefined"==typeof a?"":f._VideoPlayerCtrl._PlayerMethod._handleComponent(a)},getVersion:function(){return f._VideoPlayerCtrl._PlayerMethod._getOCXVersion()},realtimeCtrl:{_CheckCompentType:function(a){return a>=0&&a<f._oVariableObj._oComponetType.length?f._oVariableObj._oComponetType[a]:""},playVideo:function(a,b,c){a.component=f.externalInterface.videoCtrl.realtimeCtrl._CheckCompentType(b);var d={target:"stream/open",action:"set",sid:c,data:a};return f._VideoPlayerCtrl._PlayerMethod._handleComponent(d)},replayVideo:function(){return f._VideoPlayerCtrl._PlayerMethod._replay()},stop:function(a,b,c){a.component=f.externalInterface.videoCtrl.realtimeCtrl._CheckCompentType(b);var d={target:"stream/close",action:"set",sid:c,data:a};return f._VideoPlayerCtrl._PlayerMethod._handleComponent(d)},stopAll:function(){var a={target:"stream/closeall",action:"set",sid:"",data:null};return f._VideoPlayerCtrl._PlayerMethod._handleComponent(a)},playUrl:function(a,b){var c={target:"url/open",action:"set",sid:a,data:b};return f._VideoPlayerCtrl._PlayerMethod._handleComponent(c)},stopUrl:function(a,b){var c={target:"url/close",action:"set",sid:a,data:b};return f._VideoPlayerCtrl._PlayerMethod._handleComponent(c)},setAlarm:function(a){return f._VideoPlayerCtrl._PlayerMethod._setAlarm(a)},getMotionPicture:function(){return f._VideoPlayerCtrl._PlayerMethod._getMotionPicture()},deleteMotionPicture:function(){return f._VideoPlayerCtrl._PlayerMethod._deleteMotionPicture()}},localCtrl:{picCtrl:{getSnapshot:function(){var a=f._VideoPlayerCtrl._PlayerMethod._snapshot();return a=0==a?!0:!1},setFilePath:function(){return f._VideoPlayerCtrl._PlayerMethod._setFilePath()},openFilePath:function(){return f._VideoPlayerCtrl._PlayerMethod._openFilePath()}},streamCtrl:{setRecordFileSize:function(a){return 0>=a&&(a=5),f._VideoPlayerCtrl._PlayerMethod._setRecordFileSize(a)},setRecord:function(a){return a||(a=!1),f._VideoPlayerCtrl._PlayerMethod._setRecord(a)},setRecordPath:function(){return f._VideoPlayerCtrl._PlayerMethod._setRecordPath()},getRecordPath:function(){return f._VideoPlayerCtrl._PlayerMethod._getRecordPath()},openRecordPath:function(){return f._VideoPlayerCtrl._PlayerMethod._openRecordPath()}}},eventCtrl:{_cmd:function(){return f._macro._eventCmd},_regEvent:function(a,b){if("number"!=typeof a||"function"!=typeof b)return!1;try{return f._VideoPlayerCtrl._PlayerEvent._bind._oAllEvents["_"+a]=b,!0}catch(c){f._log._info("_regEvent err:"+c+" type="+a)}},regDevAdd:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_ADDDEV,a)},regDevDel:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_DELDEV,a)},regDevDelAll:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_DELALLDEV,a)},regDevRefresh:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_REFRESHDEV,a)},regDevRefreshAll:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_REFRESHALLDEV,a)},regEnumNode:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_ENUMNODE,a)},regPlayEvent:function(a){return this._regEvent(this._cmd().RRMSCLIENTSDK_COMMAND_EVENT_OPENSTREAM,a)},regStopEvent:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_CLOSESTREAM,a)},regStopAllEvent:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_CLOSEALLSTREAM,a)},regPtzEvent:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_PTZ,a)},regVideoColorGet:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_VIDEOCOLORGET,a)},regVideoColorSet:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_VIDEOCOLORSET,a)},regFileSearch:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_FILESEARCH,a)},regFilePlayByTime:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_FILEPLAYBYTIME,a)},regFilePlayByName:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_FILEPLAYBYNAME,a)},regFileGetByTime:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_FILEDOWNLOADBYTIME,a)},regFileGetByName:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_FILEDOWNLOADBYNAME,a)},regFileCtrlStart:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_FILEIDCTRL,a)},regFileCtrlStop:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_FILEIDSTOP,a)},regAddChannel:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_ADDCHAN,a)},regUrlOpenStream:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_URLOPENSTREAM,a)},regUrlCloseStream:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_COMMAND_EVENT_URLCLOSESTREAM,a)},regDevBrokenEvent:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_DEV_BROKEN,a)},regDevConnectEvent:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_DEV_CONNECT,a)},regStreamBroken:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_STREAM_BROKEN,a)},regStreamConnectEvent:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_STREAM_CONNECT,a)},regServeRunning:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_SERVE_RUNNING,a)},regServeHalt:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_SERVE_HALT,a)},regServeHalt:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_NODE_CHANGE,a)},regStreamConnectError:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_SDK_EVENT_STREAM_CONNECT_ERROR,a)},regInitFinished:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_WINDOW_EVENT_INIT_FINISHED,a)},regSelectEvent:function(a){return this._regEvent(this._cmd().RMSCLIENTSDK_WINDOW_EVENT_SELECTWINDOW_CHANGE,a)}}},ptzCtrl:{_checkout:function(a){return(0>a||a>15)&&(a=5),a},ptz:function(a,b){return f._VideoPlayerCtrl._PlayerMethod._ptzCtrl(a,b)},turnHalt:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_HALT,this._checkout(a),b)},turnLeft:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_PANLEFT,this._checkout(a),b)},turnUp:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_TILTUP,this._checkout(a),b)},turnRight:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_PANRIGHT,this._checkout(a),b)},turnDown:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_TILTDOWN,this._checkout(a),b)},turnLeftUp:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_LEFTUP,this._checkout(a),b)},turnRightUp:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_RIGHTUP,this._checkout(a),b)},turnLeftDown:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_LEFTDOWN,this._checkout(a),b)},turnRightDown:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_RIGHTDOWN,this._checkout(a),b)},turnScan:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_SCAN,this._checkout(a),b)},zoomAdd:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_ZOOM,this._checkout(a),b)},zoomSubtract:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_ZOOM,-1*this._checkout(a),b)},zoomStop:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_ZOOM,this._checkout(0),b)},irisAdd:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_IRIS,this._checkout(a),b)},irisSubtract:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_IRIS,-1*this._checkout(a),b)},irisStop:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_IRIS,this._checkout(0),b)},focusAdd:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_FOCUS,this._checkout(a),b)},focusSubtract:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_FOCUS,-1*this._checkout(a),b)},focusStop:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_HALT,this._checkout(0),b)},callPTZPP:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_VIEW,a,b)},setPTZPP:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_SETVIEW,a,b)},delPTZPP:function(a,b){return this._ptzOpt(f._macro._ptzCmd.CPM_PTZ_CLEARVIEW,a,b)
},setPtzLight:function(a,b){return this._ptzOpt(f._macro._ptzCmd.TCSP_PTZ_LIGHT,this._checkout(a),b)},setPtzFan:function(){},setPtzWiper:function(){},setPtzHeater:function(){},_ptzOpt:function(a,b,c){c=c||(new Date).getTime().toString();var d={target:"ptz",action:"set",sid:c,data:{ptzcmd:a,ptzparam:b}};return f._VideoPlayerCtrl._PlayerMethod._handleComponent(d)},paramCtrl:{_o:{target:"videocolor",action:"set",sid:"3",data:{brightness:30,contrast:30,saturation:30,hue:30}},setBrightness:function(a){return this._o.data={},this._o.data.brightness=a,f._VideoPlayerCtrl._PlayerMethod._handleComponent(this._o)},setChroma:function(a){return this._o.data={},this._o.data.hue=a,f._VideoPlayerCtrl._PlayerMethod._handleComponent(this._o)},setContrast:function(a){return this._o.data={},this._o.data.contrast=a,f._VideoPlayerCtrl._PlayerMethod._handleComponent(this._o)},setSaturation:function(a){return this._o.data={},this._o.data.saturation=a,f._VideoPlayerCtrl._PlayerMethod._handleComponent(this._o)},setVideoParam:function(a){return""!=a&&(this._o.data=a),f._VideoPlayerCtrl._PlayerMethod._handleComponent(this._o)}},regVideoColorGet:function(a){return f.externalInterface.videoCtrl.eventCtrl.regVideoColorGet(a)},regVideoColorSet:function(a){return f.externalInterface.videoCtrl.eventCtrl.regVideoColorSet(a)}},uiCtrl:{setTitleContext:function(a){return f._oVariableObj._oFuncInfo.bWindowMode?f._ui._setTitleContext(a):void 0}}}};return f.externalInterface}